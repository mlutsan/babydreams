@import 'tailwindcss';
@import 'tw-animate-css';
@import 'konsta/react/theme.css';

/* Define layer order - mobile and desktop are isolated, base is shared */
@layer mobile, desktop, base;

@custom-variant dark (@media (prefers-color-scheme: dark));


/* ==================== BASE LAYER (Shared Styles) ==================== */
@layer base {
  body {
    @apply m-0;
    font-family: -apple-system,
      BlinkMacSystemFont,
      'Segoe UI',
      'Roboto',
      'Oxygen',
      'Ubuntu',
      'Cantarell',
      'Fira Sans',
      'Droid Sans',
      'Helvetica Neue',
      sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    /* Prevent text size adjustment on mobile */
    -webkit-text-size-adjust: 100%;
    /* Improve tap target responsiveness */
    touch-action: manipulation;
  }

  /* Safe area support for notched devices */
  html,
  body {
    padding: env(safe-area-inset-top) env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left);
  }

  code {
    font-family:
      source-code-pro, Menlo, Monaco, Consolas, 'Courier New', monospace;
  }

  /* Sleep state transition animations - Circular orbit approach */

  /* Awake → Sleep: Orbit rotates clockwise 180deg (sun sets right, moon rises left) */
  @keyframes orbitToSleep {
    from {
      transform: rotate(0deg);
    }

    to {
      transform: rotate(180deg);
    }
  }

  /* Sleep → Awake: Orbit rotates clockwise 180deg (moon sets left, sun rises right) */
  @keyframes orbitToAwake {
    from {
      transform: rotate(180deg);
    }

    to {
      transform: rotate(360deg);
    }
  }

  .orbit-container {
    transition: transform 1000ms cubic-bezier(0.4, 0.0, 0.2, 1);
  }

  .orbit-awake {
    transform: rotate(0deg);
  }

  .orbit-awake-from-sleep {
    transform: rotate(360deg);
  }

  .orbit-sleeping {
    transform: rotate(180deg);
  }

  /* Counter-rotate icons so they stay upright during orbit rotation */
  @keyframes counterRotateToSleep {
    from {
      transform: rotate(0deg);
    }

    to {
      transform: rotate(-180deg);
    }
  }

  @keyframes counterRotateToAwake {
    from {
      transform: rotate(-180deg);
    }

    to {
      transform: rotate(-360deg);
    }
  }

  .icon-container {
    transition: transform 1000ms cubic-bezier(0.4, 0.0, 0.2, 1);
  }

  .icon-awake {
    transform: rotate(0deg);
  }

  .icon-awake-from-sleep {
    transform: rotate(-360deg);
  }

  .icon-sleeping {
    transform: rotate(-180deg);
  }

  /* @media (prefers-reduced-motion: reduce) {
    .animate-orbit-to-sleep,
    .animate-orbit-to-awake,
    .animate-icon-counter-rotate-sleep,
    .animate-icon-counter-rotate-awake {
      animation: none;
    }
  } */
}
